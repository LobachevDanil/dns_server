Кэширующий ДНС сервер.

сервер получает днс запросы типа NS, A на 53 порт.
Если ответ содержится в кэше, то составляется пакет, содержащий необходимые данные.
Иначе, посылаем запрос настоящему днс серверу (в программе ns1.e1.ru)
Достаем из ответа днс сервера все ресурсные записи типа A, NS и сохраняем в кэше,
ответ отсылаем клиенту.

пример запуска:
nslookup e1.ru 192.168.1.153

// получает ответ при помощи ns1.e1.ru

nslookup -type=NS e1.ru 192.168.1.153

// получает ответ, в котором содержится информация из кэша (запись типа NS)

nslookup - type=A e1.ru 192.168.1.153

// аналогично получает запись из кэша (запись типа A)

результат вывода для данного примера смотреть в файле result.txt

на запросы, которые не относятся к типу NS, A сервер не отвечает.